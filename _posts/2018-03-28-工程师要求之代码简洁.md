---
title: 工程师要求之代码简洁
date: 2018-03-28 00:31:30
tags: [文档]
categories: [tool]
---

代码简洁是程序员到优秀程序员的第一步。

## 为什么需要简洁的代码？

1. 代码是工程师链接世界的语言，是与世界沟通的非自然语言。
2. 你能读懂别人的代码，别人也要能读懂你的代码。
3. 对于商用/公司而言，代码是公司的资产之一，人员流动过程中，简洁的代码能有效的减少因人员变动产生的产能下降胡总呵工作停滞。
4. 个人而言，我们都需要大而清晰的显示屏幕，更快的CPU，更舒适整洁的工作环境，们的代码也要做到干净整洁。

## 非整洁代码造成的问题？

1. 迭代困难。如果读懂昨天的代码，大概需要5分钟，那么读懂一个月前的代码大概需要30分钟。非整洁代码的大量出现会导致预估迭代一个功能的时间远远短于时间时间，会拖慢整个项目的进度，影响交付质量。
2. 对于时间紧任务重的项目，快猛糙的上线会造成后期花费更多时间成本重构。所以一般项目的OWNER会充分了解当前负责项目的负债情况，并将负债之后的影响控制到合理的范围之内。

## 代码的工匠精神。

	一件为人称道的艺术品，一个为人称道的艺术家，往往是两种情况，要么是做到了别人无法做到的，要么是实现了与普通人的共鸣，向他人传达了自己的态度和看法。代码也是一样，我们要用代码向别人传递正确积极的态度。

## 代码简洁实施方法

1. meaningful Names（有意义的命名）
    1. 名副其实，是什么就是什么，比如badcase：2=to，4=for；名字长一些没关系，由于现在显示器、IDE等工具已经很先进了，为了节省字符或者显示方便而省略命名的做法得不偿失。
    2. 避免歧义
        1. 相同概念使用相同的词，不同概念使用不同的词。
        2. 不同的模块中，相同的操作使用相同的命名和结构，比如获取数据：*get*
        3. 如果某些词的缩写与其他词汇有冲突或者有有歧义，建议使用非缩写形式。
        4. 避免使用区分度很低的词汇。
        5. 避免泛化，具象化，实例化。比如存储一个数据，可以使用data，如果这个数据是一个字符串，那就用string更好，如果这个字符串十个整数，那就用int更好。你是用的这个单词是否能很合适的描述另外一个对象或者事件，如果可以，请替换他。
    3. 有意义的命名
        1. 拼音首字母，谨慎使用。翻译，双向翻译，是否都是唯一。
        2. 约定俗成的缩写/非约定俗成的缩写。MIA（missing in action），ASAP（as soon as possible）,dob（date of birth，driving or bicycling）
        3. 任何一个变量都应该有他自己的含义，不应该是li1,a2,b3。单位信息，比如：时间，偏移量，空间等。
        4. 注意行业内专有名词，比如：it，wise等
    4. 遵循惯例
        1. 团队管理
        2. 社区和行业
2. Comments（注释）
    1. 自解释，好的代码应该是自解释完美的代码，是不需要配合注释的，但是一般做不到的。
    2. todo，迭代中发现问题，最好能直接重构解决问题，但是如果实在由于各种情况解决不了，请注释为：todo。
    3. 怎么写好注释呢？
        1. 能用函数名或者变量名表明意图的就不要用注释
        2. 描述清楚why而不是how
        3. 看到注释掉的代码，请删掉它
        4. 看到过期失效的代码，请更新它删掉它。
        5. 值得写的注释，一定要写好。
3. Functions（函数）
    1. 长。研究表明，人的大脑在单位时间内处理相关性的事件最多不超过7层，一个合适的函数的长度应该在7行以内。
        1. small原则。
            1. 第一原则：短小精悍。
            2. 第二原则：更短小
            3. 心中默念：单一职责
    2. 输入输出明确。
4. formatiing（格式）
    1. 编码规范要求。js编码规范见<a href=“https://github.com/airbnb/javascript”>传送门</a>
    2. 养成好习惯。合理利用段落，列对齐问题等。
5. Error Handling （错误处理）
    1. 合理捕捉错误，合理处理。
    2. 健壮性和鲁棒性，对所有的错误情况都有完美的能力处理。
    3. 返回值不应该全是是null等这种无意义的错误值，应该是有意义的返回值。
6. Smell and Heuristics（味道与启发）
    1. 不合理的注释、代码段。
    2. solid原则
        1. 单一职责原则（SRP）
        2. 开闭原则（OCP）
        3. 里氏替换原则（LSP）
        4. 接口分离原则（ISP）
        5. 依赖倒置原则（DIP）












