---
title: JS变量存储的堆栈
date: 2018-04-01 00:31:30
tags: [api,js]
categories: [tool]
---
JS变量存储的堆栈

什么放在内存中？什么不放在内存中？
## 基本类型是：

Undefined/Null/Boolean/Number/String

基本类型的值存在内存中，被保存在栈内存中。从一个变量向另一个变量复制基本类型的值，会创建这个值的一个副本。

## 引用类型：object引用类型的值是对象，保存在堆内存中。

1.    包含引用类型值的变量实际上包含的并不是对象本身，而是一个指向该对象的指针。从一个变量向另一个变量复制引用类型的值，复制的其实是指针，因此两个变量最终都指向同一个对象。

2.    js不允许直接访问内存中的位置，也就是不能直接访问操作对象的内存空间。在操作对象时，实际上是在操作对象的引用而不是实际的对象。

## 栈和堆的区别

一、堆栈空间分配区别：
    1、栈（操作系统）：由操作系统自动分配释放 ，存放函数的参数值，局部变量的值等。其操作方式类似于数据结构中的栈；
    2、堆（操作系统）： 一般由程序员分配释放，若程序员不释放，程序结束时可能由OS回收，分配方式倒是类似于链表。
    
二、堆栈缓存方式区别：
    1、栈使用的是一级缓存， 他们通常都是被调用时处于存储空间中，调用完毕立即释放；
    2、堆是存放在二级缓存中，生命周期由虚拟机的垃圾回收算法来决定（并不是一旦成为孤儿对象就能被回收）。所以调用这些对象的速度要相对来得低一些。
    
三、堆栈数据结构区别：
    堆（数据结构）：堆可以被看成是一棵树，如：堆排序；
    栈（数据结构）：一种先进后出的数据结构。
